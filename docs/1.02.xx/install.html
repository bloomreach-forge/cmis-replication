<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-07-14
 | Rendered using Hippo Forge Maven Skin 1.04.00 based on Apache Maven Fluido Skin
-->
<!--[if lt IE 7]><html id="ie6" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 7]><html id="ie7" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 8]><html id="ie8" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if IE 9]><html id="ie9" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if !IE]>--><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!--<![endif]-->

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                    <meta name="Date-Revision-yyyymmdd" content="20170714"/>
                <meta http-equiv="Content-Language" content="en"/>
        <title>CMIS Replication Module - 
    How to use CMIS Replication Module</title>
    <link rel="stylesheet" href="../css/forge-maven-skin-syntaxhighlighter-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/forge-maven-skin-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/site.css"/>
    <link rel="stylesheet" href="../css/print.css" media="print"/>

        
    <script type="text/javascript" src="../js/forge-maven-skin-syntaxhighlighter-1.04.00.min.js"></script>
    <script type="text/javascript" src="../js/forge-maven-skin-1.04.00.min.js"></script>

    
            </head>
    <body>

        
    
    
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="header">
                <div id="logo">
                    <a href="http://www.onehippo.com">
                        <img src="../images/hipposkin/hippo-logo.png" alt="Hippo Logo" />
                    </a>
                </div>

                <h1>
                                            CMIS Replication Module
                    
                </h1>
                <div class="clearfix"></div>
            </div>
        </div>

        <div class="row-fluid">
            <div id="breadcrumbs" class="clearfix">
                <ul class="breadcrumb">
                                
                                        
                            <li id="publishDate">Last Published: 2017-07-14</li>
                                                                                                                                                </ul>

                <div class="links">
                    <a href="https://www.onehippo.com">Onehippo.com</a>
                    <a href="https://www.onehippo.org">Onehippo.org</a>
                </div>
            </div>
        </div>



            
    <div class="row-fluid">
        <div id="leftColumn" class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                                        <li class="nav-header">Home</li>
                                                           
        <li>
    
                                                <a href="../index.html" title="Home">
                    <i class="none"></i>
                Home</a>
                    </li>
                               
        <li>
    
                                                <a href="../release-notes.html" title="Release Notes">
                    <i class="none"></i>
                Release Notes</a>
                    </li>
                                                            <li class="nav-header">Usage</li>
                                                           
        <li>
    
                                                <a href="../install.html" title="Installation">
                    <i class="none"></i>
                Installation</a>
                    </li>
                               
        <li>
    
                                                <a href="../demo-with-nuxeo-6.0.html" title="Demo with Nuxeo DM Server 6.0">
                    <i class="none"></i>
                Demo with Nuxeo DM Server 6.0</a>
                    </li>
                               
        <li>
    
                                                <a href="../build-from-source.html" title="Build from source">
                    <i class="none"></i>
                Build from source</a>
                    </li>
                                                            <li class="nav-header">1.02.xx Documentation</li>
                                                           
        <li>
    
                                                <a href="../1.02.xx/index.html" title="Home">
                    <i class="none"></i>
                Home</a>
                    </li>
                               
        <li class="active">
    
                        <a href="#"><i class="none"></i>Installation</a>
                </li>
                               
        <li>
    
                                                <a href="../1.02.xx/demo-with-nuxeo-5.6.html" title="Demo with Nuxeo DM Server 5.4">
                    <i class="none"></i>
                Demo with Nuxeo DM Server 5.4</a>
                    </li>
                                                            <li class="nav-header">1.01.xx Documentation (Deprecated)</li>
                                                           
        <li>
    
                                                <a href="../1.01.xx/index.html" title="Home">
                    <i class="none"></i>
                Home</a>
                    </li>
                               
        <li>
    
                                                <a href="../1.01.xx/install.html" title="Installation">
                    <i class="none"></i>
                Installation</a>
                    </li>
                               
        <li>
    
                                                <a href="../1.01.xx/demo-with-nuxeo-5.4.html" title="Demo with Nuxeo DM Server 5.4">
                    <i class="none"></i>
                Demo with Nuxeo DM Server 5.4</a>
                    </li>
                                                            <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        <li>
    
                                                <a href="../project-info.html" title="Project Information">
                    <i class="icon-chevron-right"></i>
                Project Information</a>
                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                                           
        <li>
    
                                                <a href="../project-reports.html" title="Project Reports">
                    <i class="icon-chevron-right"></i>
                Project Reports</a>
                                </li>
                        </ul>

                
                <hr class="divider"/>

                <div id="poweredBy">
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png"/>
        </a>
                            </div>
            </div>
        </div>
    
        
        <div id="bodyColumn"  class="span9" >
                                
            <!-- Copyright 2011 Hippo Licensed under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License. You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0 Unless required by
    applicable law or agreed to in writing, software distributed under
    the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
    OR CONDITIONS OF ANY KIND, either express or implied. See the
    License for the specific language governing permissions and
    limitations under the License. -->
  
    <div class="section">
<h2>How to use CMIS Replication Module<a name="How_to_use_CMIS_Replication_Module"></a></h2>
      
<div class="section">
<h3>Prerequisites<a name="Prerequisites"></a></h3>
        
<p>
          These instruction assumes that you have maven 3 based build for your site.
        </p>
      </div>
      
<div class="section">
<h3>Maven 2 repository<a name="Maven_2_repository"></a></h3>
        
<p>Add this repository to your root pom.xml:</p>
        
<div class="source"><pre class="prettyprint linenums">
    &lt;repository&gt;
      &lt;id&gt;hippo-maven2-forge&lt;/id&gt;
      &lt;name&gt;Hippo Maven 2 Forge&lt;/name&gt;
      &lt;url&gt;http://maven.onehippo.com/maven2-forge&lt;/url&gt;
    &lt;/repository&gt;</pre></div>
      </div>

      
<div class="section">
<h3>Specifying the dependency in a CMS/Repository Application project<a name="Specifying_the_dependency_in_a_CMSRepository_Application_project"></a></h3>
        
<p>
          Add the following dependency in your CMS/Repository Application project.
          CMIS Replication Module depends on Hippo Repository Scheduler Module which has been
          available since Hippo CMS 7.8.3.
        </p>
        
<div class="source"><pre class="prettyprint linenums">
    &lt;!-- CMIS Replication Module --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.onehippo.forge.cmisreplication&lt;/groupId&gt;
      &lt;artifactId&gt;cmisreplication&lt;/artifactId&gt;
      &lt;version&gt;${forge.cmisreplication.version}&lt;/version&gt;
    &lt;/dependency&gt;
        </pre></div>
        
<p>
          With the dependency addtion of CMIS Replication Module,
          an asset document replicated from CMIS Repository will have the following mixin type:
        </p>
        
<div class="source"><pre class="prettyprint linenums">
[cmisreplication:cmisdocument] mixin
- cmisreplication:objectId (string)
- cmisreplication:name (string)
- cmisreplication:createdBy (string)
- cmisreplication:creationDate (date)
- cmisreplication:lastModifiedBy (string)
- cmisreplication:lastModificationDate (date)
- cmisreplication:versionLabel (string)
        </pre></div>
        
<p>
          All the new property definitions with 'cmisreplication' prefix are for CMIS Document Metadata.
        </p>
      </div>

      
<div class="section">
<h3>Configuring CMIS Replication Scheduler<a name="Configuring_CMIS_Replication_Scheduler"></a></h3>
        
<p>
          By default, CMIS Replication Module becomes active by the Hippo Repository Daemon Module configuration at '/hippo:configuration/hippo:modules/cmisreplication-scheduler-module'.
          The daemon module initializes a CRON style scheduler task to replication CMIS documents to Hippo Repository,
          by using Hippo Repository Scheduler module based on the configured CRON expression.
        </p>
        <img src="images/cmisreplication-config.png" alt="CMIS Replication Scheduler Configuration" style="BORDER: lightgrey solid 1px" />
        
<p>
          Here are explanations on all the configurable properties:
        </p>
        
<table border="0" class="table table-striped">
          
<tr class="a">
            
<th>Property</th>
            
<th>Type</th>
            
<th>Description</th>
            
<th>Example Value</th>
            
<th>Default Value</th>
          </tr>
          
<tr class="b">
            
<td>cronexpression</td>
            
<td>String</td>
            
<td>
              CRON style Hippo Repository Scheduler configuration.
              <br />
              See <a class="externalLink" href="http://quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger" target="_new">Quartz CronTrigger Tutorial</a>
              for detail on CRON expressions.
            </td>
            
<td>0/10 * * * * ?</td>
            
<td></td>
          </tr>
          
<tr class="a">
            
<td>cmis.replication.migrateCMISDocumentsToHippo</td>
            
<td>Boolean</td>
            
<td>
              Flag whether the replication from source to target is on/off
            </td>
            
<td>true</td>
            
<td>true</td>
          </tr>
          
<tr class="b">
            
<td>cmis.replication.deleteHippoDocumentsWhenCMISDocumentsRemoved</td>
            
<td>Boolean</td>
            
<td>
              Flag whether the replicated Hippo asset documents should be checked against the source CMIS documents to keep or remove the Hippo asset document.
              So, if a source CMIS document is deleted, then its corresponding Hippo asset document is removed as well.
            </td>
            
<td>true</td>
            
<td>true</td>
          </tr>
          
<tr class="a">
            
<td>cmis.replication.target.rootPath</td>
            
<td>String</td>
            
<td>
              The target Hippo Repository Asset Documents Path where documents are replicated to
            </td>
            
<td>/content/assets/marketing</td>
            
<td></td>
          </tr>
          
<tr class="b">
            
<td>cmis.replication.source.url</td>
            
<td>String</td>
            
<td>
              CMIS Repository Server URL
            </td>
            
<td>http://localhost:18080/nuxeo/atom/cmis</td>
            
<td></td>
          </tr>
          
<tr class="a">
            
<td>cmis.replication.source.repositoryId</td>
            
<td>String</td>
            
<td>
              The Repository ID of the CMIS Repository
            </td>
            
<td>default</td>
            
<td></td>
          </tr>
          
<tr class="b">
            
<td>cmis.replication.source.username</td>
            
<td>String</td>
            
<td>
              The user name for CMIS Repository
            </td>
            
<td>Administrator</td>
            
<td></td>
          </tr>
          
<tr class="a">
            
<td>cmis.replication.source.password</td>
            
<td>String</td>
            
<td>
              The password for CMIS Repository
            </td>
            
<td>Administrator</td>
            
<td></td>
          </tr>
          
<tr class="b">
            
<td>cmis.replication.source.rootPath</td>
            
<td>String</td>
            
<td>
              The source CMIS Repository Document Path where documents are replicated from
            </td>
            
<td>/default-domain/sections/marketing</td>
            
<td></td>
          </tr>
          
<tr class="a">
            
<td>cmis.replication.source.maxItemsPerPage</td>
            
<td>Long</td>
            
<td>
              The max number of items per batch for operations that return lists, passed to the org.apache.chemistry.opencmis.client.api.OperationContext.
            </td>
            
<td>500</td>
            
<td>500</td>
          </tr>
          
<tr class="b">
            
<td>cmis.replication.include.metadata.ids</td>
            
<td>String[]</td>
            
<td>
              List of properties that will be synchronized with the replicated document.
            </td>
            
<td>dc:description dc:subjects</td>
            
<td></td>
          </tr>
        </table>
      </div>
    </div>
  

            </div>
        </div>
    </div>

    <hr/>

    <footer>
                <div class="container-fluid">
                <div class="row span12">Copyright &copy;                                                2017.
                        All Rights Reserved.            
                                        
            </div>

        
        
                </div>
    </footer>
</body>
</html>
